/*! For license information please see game.js.LICENSE.txt */
!function(e){var n={};function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}({"./src/js/canvasManager.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./emitter.js */ \"./src/js/emitter.js\");\n //Create canvas\n\nvar canvas = document.getElementById('myCanvas');\nvar context = canvas.getContext('2d');\nvar mouse = {\n  x: 0,\n  y: 0,\n  width: 1,\n  color: \"black\"\n}; //Set background\n\ncontext.fillStyle = \"white\";\ncontext.fillRect(0, 0, 700, 500); //Canvas controls behaviour\n\neraseAll.addEventListener('click', function (evt) {\n  evt.preventDefault();\n  eraseDrawing();\n  _emitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].emitEraseAll();\n});\n\nvar eraseDrawing = function eraseDrawing() {\n  context.clearRect(0, 0, canvas.width, canvas.height);\n};\n\npencil.addEventListener('click', function (evt) {\n  evt.preventDefault();\n  mouse.width = 1;\n  mouse.color = \"black\";\n});\neraser.addEventListener('click', function (evt) {\n  evt.preventDefault();\n  mouse.width = 100;\n  mouse.color = \"white\";\n}); // canvas behaviour\n//drawing start\n\ncanvas.addEventListener('mousedown', function (evt) {\n  evt.preventDefault();\n  getMousePos(evt);\n  startDrawing(mouse);\n  _emitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].emitDrawingStart(mouse);\n  startTracing();\n});\n\nvar startDrawing = function startDrawing(currentMouse) {\n  context.lineWidth = currentMouse.width;\n  context.strokeStyle = currentMouse.color;\n  context.beginPath();\n  context.moveTo(currentMouse.x, currentMouse.y);\n}; // drawing tracing\n\n\nvar startTracing = function startTracing() {\n  canvas.addEventListener('mousemove', mouseMove, false);\n};\n\nvar mouseMove = function mouseMove(evt) {\n  getMousePos(evt);\n  trace(mouse);\n  _emitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].emitDrawingTrace(mouse);\n};\n\nvar trace = function trace(currentMouse) {\n  context.lineTo(currentMouse.x, currentMouse.y);\n  context.stroke();\n}; //stopping drawing\n\n\ncanvas.addEventListener('mouseup', function (evt) {\n  stopDrawing();\n}, false);\n\nvar stopDrawing = function stopDrawing() {\n  canvas.removeEventListener('mousemove', mouseMove, false);\n};\n\nvar getMousePos = function getMousePos(evt) {\n  var rect = canvas.getBoundingClientRect();\n  mouse.x = evt.clientX - rect.left;\n  mouse.y = evt.clientY - rect.top;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  startDrawing: startDrawing,\n  trace: trace,\n  stopDrawing: stopDrawing,\n  eraseDrawing: eraseDrawing\n});\n\n//# sourceURL=webpack:///./src/js/canvasManager.js?")},"./src/js/connection.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./emitter.js */ "./src/js/emitter.js");\n //Get the pseudo of user\n\nvar pseudo = prompt("Entrer votre pseudonyme:", "");\n_emitter_js__WEBPACK_IMPORTED_MODULE_0__["default"].emitConnection(pseudo);\n\n//# sourceURL=webpack:///./src/js/connection.js?')},"./src/js/domManager.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar updateUserMessages = function updateUserMessages(userMessages) {\n  chat.innerHTML = \'\';\n\n  var _iterator = _createForOfIteratorHelper(userMessages),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var message = _step.value;\n      var node = document.createElement("DIV");\n      var textnode = document.createTextNode(message);\n      node.appendChild(textnode);\n      chat.appendChild(node);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n};\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  updateUserMessages: updateUserMessages\n});\n\n//# sourceURL=webpack:///./src/js/domManager.js?')},"./src/js/emitter.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nvar emitConnection = function emitConnection(pseudo) {\n  socket.emit(\"pseudo\", pseudo);\n};\n\nvar emitEraseAll = function emitEraseAll() {\n  socket.emit('eraseDrawing');\n};\n\nvar emitDrawingStart = function emitDrawingStart(mouse) {\n  socket.emit('startDrawing', mouse);\n};\n\nvar emitDrawingTrace = function emitDrawingTrace(mouse) {\n  socket.emit('traceDrawing', mouse);\n};\n\nvar emitNewMessage = function emitNewMessage(msg) {\n  socket.emit('message', msg);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  emitConnection: emitConnection,\n  emitEraseAll: emitEraseAll,\n  emitDrawingStart: emitDrawingStart,\n  emitDrawingTrace: emitDrawingTrace,\n  emitNewMessage: emitNewMessage\n});\n\n//# sourceURL=webpack:///./src/js/emitter.js?")},"./src/js/game.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvasManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./canvasManager.js */ "./src/js/canvasManager.js");\n/* harmony import */ var _domManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./domManager.js */ "./src/js/domManager.js");\nPromise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! ./connection.js */ "./src/js/connection.js"));\nPromise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! ./emitter.js */ "./src/js/emitter.js"));\n\n\nsocket.on(\'drawingStarted\', function (mouse) {\n  _canvasManager_js__WEBPACK_IMPORTED_MODULE_0__["default"].startDrawing(mouse);\n});\nsocket.on(\'drawingTraced\', function (mouse) {\n  _canvasManager_js__WEBPACK_IMPORTED_MODULE_0__["default"].trace(mouse);\n});\nsocket.on(\'drawingErased\', function (_) {\n  _canvasManager_js__WEBPACK_IMPORTED_MODULE_0__["default"].eraseDrawing();\n});\nsocket.on(\'listUsers\', function (list) {\n  console.log(list);\n});\nsocket.on(\'userMessages\', function (userMessages) {\n  _domManager_js__WEBPACK_IMPORTED_MODULE_1__["default"].updateUserMessages(userMessages);\n});\n\n//# sourceURL=webpack:///./src/js/game.js?')},"./src/js/tchat.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./emitter.js */ \"./src/js/emitter.js\");\n\ntchatForm.addEventListener('submit', function (evt) {\n  evt.preventDefault();\n  _emitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].emitNewMessage(msg.value);\n  msg.value = '';\n});\n\n//# sourceURL=webpack:///./src/js/tchat.js?")},0:function(module,exports,__webpack_require__){eval('__webpack_require__(/*! ./src/js/game.js */"./src/js/game.js");\n__webpack_require__(/*! ./src/js/connection.js */"./src/js/connection.js");\n__webpack_require__(/*! ./src/js/tchat.js */"./src/js/tchat.js");\n__webpack_require__(/*! ./src/js/canvasManager.js */"./src/js/canvasManager.js");\nmodule.exports = __webpack_require__(/*! ./src/js/domManager.js */"./src/js/domManager.js");\n\n\n//# sourceURL=webpack:///multi_./src/js/game.js_./src/js/connection.js_./src/js/tchat.js_./src/js/canvasManager.js_./src/js/domManager.js?')}});